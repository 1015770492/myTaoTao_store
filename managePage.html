<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>后台管理页面</title>
    <!-- 引入ElementUI样式 -->
    <link rel="stylesheet" href="./css/index.css">
    <!-- cdn引入ElementUI样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">

</head>
<body>
<div id="app">
    <el-menu style="height: 61px;margin: 0"
             ref="topCollapse"
             class="el-menu-demo el-col-24"
             mode="horizontal"
             background-color="#545c64"
             text-color="#fff"
             active-text-color="#ffd04b">

        <div class="el-col-md-20 el-col-md-offset-0 el-col-sm-19 el-col-sm-offset-0  el-col-xs-16 el-col-xs-offset-0">
            <!--            <link rel="stylesheet" href="../../../../static/css/iconfont.css">-->
            <el-row>
                <!-- 打开侧边导航栏图标 -->
                <span>
                  <el-menu-item class="el-icon-s-unfold" style="font-size: 23px;width: 63px;height: 61px;"
                                @click="this.openAside"></el-menu-item>
                </span>


                <!-- 新建下拉菜单-->
              <el-dropdown placement="bottom-start" style="margin-left: 20px;margin-top: 5px">
                  <span class="el-dropdown-link header-font-style">
                    <i class="iconfont iconxinjian"></i>
                    <span style="margin-left: 3px;">
                      新建
                    </span>
                  </span>
                <el-dropdown-menu slot="dropdown" class="el-dropdown-menu2">
                <el-dropdown-item class="el-dropdown-item">
<!--                    <router-link>新建文章</router-link>-->
                    <router-link to="/adminMeau/addArticle" type="info">
                      <i class="iconfont iconxinjianwenzhang i"></i>文章
                    </router-link>
                </el-dropdown-item>

                <el-dropdown-item class="el-dropdown-item">
<!--                    <router-link>媒体</router-link>-->
                    <el-link :underline="false" type="info" @click.prevent="userMessage">
                      <i class="iconfont icontianjiashipin i" style="font-size: 16px;margin-right: 7px"></i>媒体
                    </el-link>
                </el-dropdown-item>

                <el-dropdown-item class="el-dropdown-item">
<!--                    <router-link>用户</router-link>-->
                    <el-link :underline="false" type="info" @click.prevent="logout">
                      <i class="iconfont icon27 i"></i>用户
                    </el-link>
                 </el-dropdown-item>

                <el-dropdown-item class="el-dropdown-item">
<!--                    <router-link>页面</router-link>-->
                    <el-link :underline="false" type="info" @click.prevent="sercurityCenter">
                      <i class="iconfont iconwangye i"></i>页面
                    </el-link>
                  </el-dropdown-item>


                </el-dropdown-menu>
              </el-dropdown>


            </el-row>

        </div>

        <!--  用户登录状态 头像、消息通知-->
        <div
                class="el-col-md-4 el-col-md-offset-0 el-col-sm-5 el-col-sm-offset-0 el-col-xs-8 el-col-xs-offset-0 el-dropdown_style">
            <el-dropdown>
              <span class="el-dropdown-link">
                <span>
                 <el-badge is-dot class="dot-location"></el-badge>
                 <el-avatar src="../../../static/img/头像.jpg" class="el-avatar"></el-avatar>
                </span>
                <span class="usermeau">
                  {{user.name|ellipsis}}<i class="el-icon-caret-bottom el-icon--right"></i>
                </span>
              </span>
                <el-dropdown-menu slot="dropdown" class="el-dropdown-menu">
                    <el-dropdown-item class="el-dropdown-item">
                        <el-link :underline="false" type="info" @click.prevent="userInfo">个人信息</el-link>
                    </el-dropdown-item>
                    <el-dropdown-item class="el-dropdown-item">
                        <el-link :underline="false" type="info" @click.prevent="userMessage">消息</el-link>
                        <el-badge class="mark" :value="12"/>
                    </el-dropdown-item>
                    <el-dropdown-item class="el-dropdown-item">
                        <el-link :underline="false" type="info" @click.prevent="sercurityCenter">安全中心</el-link>
                        <el-badge class="mark" :value="3"/>
                    </el-dropdown-item>
                    <el-dropdown-item class="el-dropdown-item">
                        <el-link :underline="false" type="danger" @click.prevent="logout">退出登录</el-link>
                    </el-dropdown-item>
                </el-dropdown-menu>
            </el-dropdown>
        </div>

    </el-menu>
</div>

<!--引入ElementUI组件必须先引入Vue-->
<script src="./js/vue.js"></script>
<!-- 引入ElementUI组件库 -->
<script src="./js/index.js"></script>
<script type="text/javascript">
    const vm = new Vue({ // 配置对象 options
        // 配置选项(option)
        el: '#app',  // element: 指定用vue来管理页面中的哪个标签区域
        data() {
            return {};
        },
        methods: {
            logout() {
                this.$router.replace('/index.jsp')
                this.$message({
                    showClose: true,
                    message: '已退出登录',
                    type: 'success'
                })
            },
            userInfo() {
                console.log('/userInfo')
            },
            userMessage() {
                console.log('/userMessage')
            },
            sercurityCenter() {
                console.log('/securityCenter')
            },
            openAside() {
                console.log("changeIsCollapse")
            },


        },

        filters: {
            ellipsis(value) {
                if (!value) return ''
                if (value.length > 3) {
                    return value.slice(0, 3) + '...'
                }
                return value
            }
        }
    })
</script>
</body>
</html>
